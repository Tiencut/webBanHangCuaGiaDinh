import{_ as R,c as d,b as t,d as c,i as f,t as r,w as v,v as b,l as S,f as G,F as w,e as k,r as m,m as y,o as j,h as i,n as B}from"./index-DW5Bqx6m.js";const F={name:"Orders",setup(){const g=m(""),e=m(""),h=m(""),o=m(""),p=m(!1),u=m([{id:1,orderNumber:"ORD001",customerName:"Nguyễn Văn An",customerPhone:"0901234567",status:"PENDING",totalAmount:15e5,createdAt:"2024-01-15T10:30:00",deliveryAddress:"123 Đường ABC, Quận 1, TP.HCM",deliveryNotes:"Giao hàng giờ hành chính",items:[{id:1,productName:"Lọc dầu động cơ",quantity:2,subtotal:3e5},{id:2,productName:"Má phanh trước",quantity:1,subtotal:35e4},{id:3,productName:"Dầu nhớt 15W40",quantity:4,subtotal:85e4}]},{id:2,orderNumber:"ORD002",customerName:"Công ty TNHH Vận tải XYZ",customerPhone:"0902345678",status:"CONFIRMED",totalAmount:12e6,createdAt:"2024-01-14T14:20:00",deliveryAddress:"456 Đường DEF, Quận Bình Thạnh, TP.HCM",deliveryNotes:null,items:[{id:4,productName:"Lốp xe 900R20",quantity:4,subtotal:1e7},{id:5,productName:"Vỏ bánh xe",quantity:4,subtotal:2e6}]},{id:3,orderNumber:"ORD003",customerName:"Trần Thị Bình",customerPhone:"0903456789",status:"DELIVERED",totalAmount:45e4,createdAt:"2024-01-13T09:15:00",deliveryAddress:"789 Đường GHI, Quận 7, TP.HCM",deliveryNotes:"Gọi trước khi giao",items:[{id:6,productName:"Lọc gió",quantity:1,subtotal:2e5},{id:7,productName:"Bugi",quantity:4,subtotal:25e4}]}]),s=y(()=>{let n=u.value;if(g.value){const l=g.value.toLowerCase();n=n.filter(x=>x.orderNumber.toLowerCase().includes(l)||x.customerName.toLowerCase().includes(l)||x.customerPhone.includes(l))}return e.value&&(n=n.filter(l=>l.status===e.value)),h.value&&(n=n.filter(l=>new Date(l.createdAt)>=new Date(h.value))),o.value&&(n=n.filter(l=>new Date(l.createdAt)<=new Date(o.value))),n.sort((l,x)=>new Date(x.createdAt)-new Date(l.createdAt))}),a=y(()=>u.value.length),N=y(()=>u.value.filter(n=>n.status==="PENDING").length),C=y(()=>u.value.filter(n=>n.status==="DELIVERED").length),_=y(()=>u.value.filter(n=>n.status==="DELIVERED").reduce((n,l)=>n+l.totalAmount,0)),D=n=>{switch(n){case"PENDING":return"bg-yellow-100 text-yellow-800";case"CONFIRMED":return"bg-blue-100 text-blue-800";case"PROCESSING":return"bg-purple-100 text-purple-800";case"SHIPPING":return"bg-indigo-100 text-indigo-800";case"DELIVERED":return"bg-green-100 text-green-800";case"CANCELLED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},E=n=>{switch(n){case"PENDING":return"Chờ xử lý";case"CONFIRMED":return"Đã xác nhận";case"PROCESSING":return"Đang xử lý";case"SHIPPING":return"Đang giao";case"DELIVERED":return"Đã giao";case"CANCELLED":return"Đã hủy";default:return"Không xác định"}},O=n=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(n),I=n=>new Date(n).toLocaleString("vi-VN"),V=()=>{console.log("Applying filters...")},P=()=>{g.value="",e.value="",h.value="",o.value=""},A=n=>{console.log("View order:",n)},M=n=>{console.log("Confirm order:",n)},T=n=>{confirm("Bạn có chắc chắn muốn hủy đơn hàng này?")&&console.log("Cancel order:",n)},L=n=>{console.log("Print order:",n)};return j(()=>{console.log("Orders component mounted")}),{searchQuery:g,selectedStatus:e,fromDate:h,toDate:o,showCreateModal:p,orders:u,filteredOrders:s,totalOrders:a,pendingOrders:N,completedOrders:C,monthlyRevenue:_,getStatusClass:D,getStatusText:E,formatCurrency:O,formatDateTime:I,applyFilters:V,clearFilters:P,viewOrder:A,confirmOrder:M,cancelOrder:T,printOrder:L}}},H={class:"container mx-auto px-4 py-6"},q={class:"flex justify-between items-center mb-6"},Q={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6"},z={class:"bg-white rounded-lg shadow-sm p-6"},U={class:"flex items-center"},X={class:"ml-5 w-0 flex-1"},K={class:"text-lg font-medium text-gray-900"},W={class:"bg-white rounded-lg shadow-sm p-6"},Y={class:"flex items-center"},Z={class:"ml-5 w-0 flex-1"},J={class:"text-lg font-medium text-gray-900"},$={class:"bg-white rounded-lg shadow-sm p-6"},tt={class:"flex items-center"},et={class:"ml-5 w-0 flex-1"},st={class:"text-lg font-medium text-gray-900"},ot={class:"bg-white rounded-lg shadow-sm p-6"},nt={class:"flex items-center"},rt={class:"ml-5 w-0 flex-1"},lt={class:"text-lg font-medium text-gray-900"},dt={class:"bg-white p-4 rounded-lg shadow-sm mb-6"},it={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},at={class:"flex items-end"},ut={class:"space-y-4"},ct={class:"p-6"},mt={class:"flex items-center justify-between mb-4"},gt={class:"flex items-center space-x-4"},ht={class:"text-lg font-semibold text-gray-900"},xt={class:"text-right"},yt={class:"text-lg font-semibold text-gray-900"},vt={class:"text-sm text-gray-500"},ft={class:"flex items-center mb-4"},bt={class:"font-medium text-gray-900"},pt={class:"text-sm text-gray-500"},wt={class:"mb-4"},kt={class:"text-sm text-gray-700 mb-2"},Nt={class:"font-medium"},Ct={class:"space-y-1"},_t={class:"text-gray-600"},Dt={class:"text-gray-900"},Et={key:0,class:"text-sm text-gray-500"},Ot={key:0,class:"mb-4 p-3 bg-gray-50 rounded-lg"},It={class:"text-sm text-gray-700"},Vt={key:0,class:"text-sm text-gray-500"},Pt={class:"flex space-x-3"},At=["onClick"],Mt=["onClick"],Tt=["onClick"],Lt=["onClick"],Rt={key:0,class:"text-center py-12"},St={key:1,class:"text-center mt-6"};function Gt(g,e,h,o,p,u){return i(),d("div",H,[t("div",q,[e[8]||(e[8]=t("h1",{class:"text-3xl font-bold text-gray-800"},"Quản lý đơn hàng",-1)),t("button",{onClick:e[0]||(e[0]=s=>o.showCreateModal=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center"},e[7]||(e[7]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),f(" Tạo đơn hàng ")]))]),t("div",Q,[t("div",z,[t("div",U,[e[10]||(e[10]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])])],-1)),t("div",X,[t("dl",null,[e[9]||(e[9]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Tổng đơn hàng",-1)),t("dd",K,r(o.totalOrders),1)])])])]),t("div",W,[t("div",Y,[e[12]||(e[12]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-yellow-500 rounded-md flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),t("div",Z,[t("dl",null,[e[11]||(e[11]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Chờ xử lý",-1)),t("dd",J,r(o.pendingOrders),1)])])])]),t("div",$,[t("div",tt,[e[14]||(e[14]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])])],-1)),t("div",et,[t("dl",null,[e[13]||(e[13]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Hoàn thành",-1)),t("dd",st,r(o.completedOrders),1)])])])]),t("div",ot,[t("div",nt,[e[16]||(e[16]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-green-600 rounded-md flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])])],-1)),t("div",rt,[t("dl",null,[e[15]||(e[15]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Doanh thu tháng",-1)),t("dd",lt,r(o.formatCurrency(o.monthlyRevenue)),1)])])])])]),t("div",dt,[t("div",it,[t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tìm kiếm",-1)),v(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.searchQuery=s),type:"text",placeholder:"Mã đơn hàng, khách hàng...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[b,o.searchQuery]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Trạng thái",-1)),v(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>o.selectedStatus=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},e[18]||(e[18]=[G('<option value="">Tất cả</option><option value="PENDING">Chờ xử lý</option><option value="CONFIRMED">Đã xác nhận</option><option value="PROCESSING">Đang xử lý</option><option value="SHIPPING">Đang giao</option><option value="DELIVERED">Đã giao</option><option value="CANCELLED">Đã hủy</option>',7)]),512),[[S,o.selectedStatus]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Từ ngày",-1)),v(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>o.fromDate=s),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[b,o.fromDate]])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Đến ngày",-1)),v(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>o.toDate=s),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[b,o.toDate]])]),t("div",at,[t("button",{onClick:e[5]||(e[5]=(...s)=>o.applyFilters&&o.applyFilters(...s)),class:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md mr-2"}," Lọc "),t("button",{onClick:e[6]||(e[6]=(...s)=>o.clearFilters&&o.clearFilters(...s)),class:"border border-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-50"}," Xóa ")])])]),t("div",ut,[(i(!0),d(w,null,k(o.filteredOrders,s=>(i(),d("div",{key:s.id,class:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow"},[t("div",ct,[t("div",mt,[t("div",gt,[t("h3",ht,"#"+r(s.orderNumber),1),t("span",{class:B([o.getStatusClass(s.status),"px-3 py-1 text-sm font-medium rounded-full"])},r(o.getStatusText(s.status)),3)]),t("div",xt,[t("div",yt,r(o.formatCurrency(s.totalAmount)),1),t("div",vt,r(o.formatDateTime(s.createdAt)),1)])]),t("div",ft,[e[22]||(e[22]=t("div",{class:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center mr-3"},[t("svg",{class:"h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),t("div",null,[t("div",bt,r(s.customerName),1),t("div",pt,r(s.customerPhone),1)])]),t("div",wt,[t("div",kt,[t("span",Nt,r(s.items.length),1),e[23]||(e[23]=f(" sản phẩm: "))]),t("div",Ct,[(i(!0),d(w,null,k(s.items.slice(0,3),a=>(i(),d("div",{key:a.id,class:"flex justify-between text-sm"},[t("span",_t,r(a.productName)+" x"+r(a.quantity),1),t("span",Dt,r(o.formatCurrency(a.subtotal)),1)]))),128)),s.items.length>3?(i(),d("div",Et," ... và "+r(s.items.length-3)+" sản phẩm khác ",1)):c("",!0)])]),s.deliveryAddress?(i(),d("div",Ot,[t("div",It,[e[24]||(e[24]=t("span",{class:"font-medium"},"Giao hàng:",-1)),f(" "+r(s.deliveryAddress),1)]),s.deliveryNotes?(i(),d("div",Vt,r(s.deliveryNotes),1)):c("",!0)])):c("",!0),t("div",Pt,[t("button",{onClick:a=>o.viewOrder(s),class:"bg-blue-50 text-blue-600 hover:bg-blue-100 px-4 py-2 rounded-md text-sm font-medium"}," Xem chi tiết ",8,At),s.status==="PENDING"?(i(),d("button",{key:0,onClick:a=>o.confirmOrder(s.id),class:"bg-green-50 text-green-600 hover:bg-green-100 px-4 py-2 rounded-md text-sm font-medium"}," Xác nhận ",8,Mt)):c("",!0),["PENDING","CONFIRMED"].includes(s.status)?(i(),d("button",{key:1,onClick:a=>o.cancelOrder(s.id),class:"bg-red-50 text-red-600 hover:bg-red-100 px-4 py-2 rounded-md text-sm font-medium"}," Hủy đơn ",8,Tt)):c("",!0),t("button",{onClick:a=>o.printOrder(s),class:"bg-gray-50 text-gray-600 hover:bg-gray-100 px-4 py-2 rounded-md text-sm font-medium"}," In đơn hàng ",8,Lt)])])]))),128))]),o.filteredOrders.length===0?(i(),d("div",Rt,e[25]||(e[25]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Không tìm thấy đơn hàng",-1),t("p",{class:"mt-1 text-sm text-gray-500"},"Hãy thử thay đổi bộ lọc hoặc tạo đơn hàng mới.",-1)]))):c("",!0),o.filteredOrders.length>0?(i(),d("div",St,e[26]||(e[26]=[t("button",{class:"bg-gray-50 text-gray-600 hover:bg-gray-100 px-6 py-2 rounded-md text-sm font-medium"}," Tải thêm đơn hàng ",-1)]))):c("",!0)])}const Bt=R(F,[["render",Gt]]);export{Bt as default};
